/*
	written by eugene27.
	1.3.0
*/

params [
	"_vehiclearray","_spawnobject"
];

private ["_land_vehicles","_air_vehicles","_ctrl_lb","_left_text","_right_text","_ctrl_money","_text_money"];

_land_vehicles = [
	["Land_CanisterFuel_F",0,0],
	["ACE_Wheel",0,0],
	["ACE_Track",0,0],
	["B_supplyCrate_F",0,0],
	["rhsusf_mrzr4_d",0,0],
	["C_Quadbike_01_F",0,0],
	["C_Hatchback_01_F",0,0],
	["C_Hatchback_01_sport_F",0,0],
	["C_Offroad_01_covered_F",0,0],
	["C_Offroad_01_F",0,0],
	["C_Offroad_02_unarmed_F",0,0],
	["C_SUV_01_F",0,0],
	["C_Van_01_transport_F",0,0],
	["rhs_uaz_vdv",0,0],
	["rhs_uaz_open_vdv",0,0],
	["C_Van_01_box_F",0,0],
	["C_Van_02_transport_F",0,0],
	["C_Van_02_vehicle_F",0,0],
	["C_Truck_02_transport_F",60,0],
	["RHS_Ural_Open_Civ_01",60,0],
	["RHS_Ural_Civ_01",60,0],
	["B_LSV_01_unarmed_F",70,0],
	["O_LSV_02_unarmed_F",70,0],
	["rhsusf_m998_d_2dr",100,0],
	["rhsusf_m998_w_2dr",100,0],
	["rhsusf_m998_d_2dr_halftop",100,0],
	["rhsusf_m998_w_2dr_halftop",100,0],
	["rhsusf_m998_d_2dr_fulltop",100,0],
	["rhsusf_m998_w_2dr_fulltop",100,0],
	["rhsusf_m998_d_4dr",100,0],
	["rhsusf_m998_w_4dr",100,0],
	["rhsusf_m998_d_4dr_halftop",100,0],
	["rhsusf_m998_w_4dr_halftop",100,0],
	["rhsusf_m998_d_4dr_fulltop",100,0],
	["rhsusf_m998_w_4dr_fulltop",100,0],
	["RHS_Ural_VDV_01",100,0],
	["RHS_Ural_Flat_VDV_01",120,0],
	["RHS_Ural_Open_VDV_01",120,0],
	["RHS_Ural_Open_Flat_VDV_01",120,0],
	["RHS_Ural_Fuel_VDV_01",120,0],
	["rhs_gaz66_vdv",120,0],
	["rhs_gaz66_flat_vdv",120,0],
	["rhs_gaz66o_vdv",120,0],
	["rhs_gaz66o_flat_vdv",120,0],
	["rhs_gaz66_r142_vdv",120,0],
	["rhs_gaz66_repair_vdv",120,0],
	["rhs_gaz66_ap2_vdv",120,0],
	["rhs_gaz66_ammo_vdv",120,0],
	["rhs_kamaz5350_vdv",120,0],
	["rhs_kamaz5350_flatbed_cover_vdv",120,0],
	["rhs_kamaz5350_open_vdv",120,0],
	["rhs_kamaz5350_flatbed_vdv",120,0],
	["rhs_zil131_vdv",120,0],
	["rhs_zil131_open_vdv",120,0],
	["rhs_zil131_flatbed_vdv",120,0],
	["rhsusf_M1084A1R_SOV_M2_d_fmtv_socom",120,0],
	["rhsusf_M1078A1R_SOV_M2_d_fmtv_socom",120,0],
	["rhsusf_M1078A1P2_WD_fmtv_usarmy",120,0],
	["rhsusf_M1078A1P2_WD_flatbed_fmtv_usarmy",120,0],
	["rhsusf_M1083A1P2_WD_fmtv_usarmy",120,0],
	["rhsusf_M1083A1P2_WD_flatbed_fmtv_usarmy",120,0],
	["rhsusf_M1084A1P2_WD_fmtv_usarmy",120,0],
	["rhsusf_M977A4_usarmy_wd",120,0],
	["rhsusf_M977A4_AMMO_usarmy_wd",120,0],
	["rhsusf_M977A4_REPAIR_usarmy_wd",120,0],
	["rhsusf_M978A4_usarmy_wd",120,0],
	["rhs_pts_vmf",200,0],
	["rhsusf_m1025_d",120,1],
	["rhsusf_m1025_w",120,1],
	["rhsusf_m1025_d_m2",250,1],
	["rhsusf_m1025_w_m2",250,1],
	["rhsusf_m1025_d_Mk19",250,1],
	["rhsusf_m1025_w_Mk19",250,1],
	["rhsusf_M1078A1P2_B_WD_fmtv_usarmy",280,1],
	["rhsusf_M1078A1P2_B_M2_WD_fmtv_usarmy",280,1],
	["rhsusf_M1078A1P2_B_M2_WD_flatbed_fmtv_usarmy",280,1],
	["rhsusf_M1078A1P2_B_WD_flatbed_fmtv_usarmy",280,1],
	["rhsusf_M1078A1P2_B_WD_CP_fmtv_usarmy",280,1],
	["rhsusf_M1083A1P2_B_WD_fmtv_usarmy",280,1],
	["rhsusf_M1083A1P2_B_M2_WD_fmtv_usarmy",280,1],
	["rhsusf_M1083A1P2_B_WD_flatbed_fmtv_usarmy",280,1],
	["rhsusf_M1083A1P2_B_M2_WD_flatbed_fmtv_usarmy",280,1],
	["rhsusf_M1084A1P2_B_WD_fmtv_usarmy",280,1],
	["rhsusf_M1084A1P2_B_M2_WD_fmtv_usarmy",280,1],
	["rhsusf_M1085A1P2_B_WD_Medical_fmtv_usarmy",280,1],
	["rhsusf_M977A4_BKIT_usarmy_wd",280,1],
	["rhsusf_M977A4_REPAIR_BKIT_usarmy_wd",280,1],
	["rhsusf_M978A4_BKIT_usarmy_wd",280,1],
	["rhsusf_M977A4_AMMO_BKIT_usarmy_wd",280,1],
	["rhsusf_m1043_d",300,1],
	["rhsusf_m1043_w",300,1],
	["rhs_tigr_vdv",300,1],
	["rhs_tigr_3camo_vdv",300,1],
	["rhs_typhoon_vdv",300,1],
	["rhs_tigr_m_vdv",320,1],
	["rhs_tigr_m_3camo_vdv",320,1],
	["rhsusf_CGRCAT1A2_usmc_wd",400,1],
	["rhsusf_M1238A1_socom_d",400,1],
	["rhsusf_M1239_socom_d",400,1],
	["rhsusf_M1239_M2_deploy_socom_d",400,1],
	["rhsusf_M1220_usarmy_d",400,1],
	["rhsusf_M1220_usarmy_wd",400,1],
	["rhsusf_M1220_MK19_usarmy_d",400,1],
	["rhsusf_M1220_MK19_usarmy_wd",400,1],
	["rhsusf_M1230a1_usarmy_d",400,1],
	["rhsusf_M1230a1_usarmy_wd",400,1],
	["rhsusf_M1232_usarmy_d",400,1],
	["rhsusf_M1232_usarmy_wd",400,1],
	["rhsusf_m1240a1_usarmy_d",400,1],
	["rhsusf_m1043_d_m2",500,1],
	["rhsusf_m1043_w_m2",500,1],
	["rhsusf_m1043_d_mk19",500,1],
	["rhsusf_m1043_w_mk19",500,1],
	["rhs_tigr_sts_vdv",500,1],
	["rhs_tigr_sts_3camo_vdv",500,1],
	["rhsusf_M977A4_BKIT_M2_usarmy_wd",500,1],
	["rhsusf_M977A4_AMMO_BKIT_M2_usarmy_wd",500,1],
	["rhsusf_M977A4_REPAIR_BKIT_M2_usarmy_wd",500,1],
	["rhsusf_m113_usarmy_unarmed",550,1],
	["rhsusf_m113d_usarmy_unarmed",550,1],
	["rhsusf_CGRCAT1A2_M2_usmc_wd",580,1],
	["rhsusf_CGRCAT1A2_Mk19_usmc_wd",580,1],
	["rhsusf_M1238A1_M2_socom_d",600,1],
	["rhsusf_M1238A1_Mk19_socom_d",600,1],
	["rhsusf_M1239_M2_socom_d",600,1],
	["rhsusf_M1239_MK19_socom_d",600,1],
	["rhsusf_M1220_M153_M2_usarmy_d",600,1],
	["rhsusf_M1220_M153_M2_usarmy_wd",600,1],
	["rhsusf_M1220_M2_usarmy_d",600,1],
	["rhsusf_M1220_M2_usarmy_wd",600,1],
	["rhsusf_M1220_M153_MK19_usarmy_d",600,1],
	["rhsusf_M1220_M153_MK19_usarmy_wd",600,1],
	["rhsusf_M1239_MK19_deploy_socom_d",650,1],
	["rhsusf_M1230_M2_usarmy_d",650,1],
	["rhsusf_M1230_M2_usarmy_wd",650,1],
	["rhsusf_M1230_MK19_usarmy_d",650,1],
	["rhsusf_M1230_MK19_usarmy_wd",650,1],
	["rhsusf_M1232_M2_usarmy_d",650,1],
	["rhsusf_M1232_M2_usarmy_wd",650,1],
	["rhsusf_M1232_MK19_usarmy_d",650,1],
	["rhsusf_M1232_MK19_usarmy_wd",650,1],
	["rhsusf_M1237_M2_usarmy_d",650,1],
	["rhsusf_M1237_M2_usarmy_wd",650,1],
	["rhsusf_M1237_MK19_usarmy_d",650,1],
	["rhsusf_M1237_MK19_usarmy_wd",650,1],
	["rhsusf_m113_usarmy_supply",700,1],
	["rhsusf_m113d_usarmy_supply",700,1],
	["rhsusf_m1240a1_m2_usarmy_d",750,1],
	["rhsusf_m1240a1_m2_usarmy_wd",750,1],
	["rhsusf_m1240a1_m240_usarmy_d",750,1],
	["rhsusf_m1240a1_m240_usarmy_wd",750,1],
	["rhsusf_m1240a1_mk19_usarmy_d",750,1],
	["rhsusf_m1240a1_mk19_usarmy_wd",750,1],
	["rhsusf_m113_usarmy_M240",750,2],
	["rhsusf_m113_usarmy_MK19",750,2],
	["rhsusf_m113d_usarmy_M240",750,2],
	["rhsusf_m113d_usarmy_MK19",750,2],
	["rhsusf_M1117_d",750,2],
	["rhsusf_M1117_O",750,2],
	["rhsusf_M1117_W",750,2],
	["rhsusf_m1240a1_m2crows_usarmy_d",750,2],
	["rhsusf_m1240a1_m2crows_usarmy_wd",750,2],
	["rhsusf_m1240a1_mk19crows_usarmy_d",750,2],
	["rhsusf_m1240a1_mk19crows_usarmy_wd",750,2],
	["rhsusf_m113_usarmy",760,2],
	["rhsusf_m113d_usarmy",760,2],
	["rhsgref_BRDM2_vdv",770,2],
	["rhs_btr60_vdv",770,2],
	["rhs_btr70_vdv",780,2],
	["rhsusf_m966_w",800,2],
	["rhsusf_m1245_m2crows_socom_deploy",800,2],
	["rhsusf_m1245_mk19crows_socom_deploy",800,2],
	["rhsgref_BRDM2_ATGM_vdv",800,2],
	["rhs_btr80_vdv",800,2],
	["rhsusf_stryker_m1126_m2_d",800,3],
	["rhsusf_stryker_m1126_m2_wd",800,3],
	["rhs_prp3_tv",800,3],
	["rhs_brm1k_tv",810,3],
	["rhs_bmp1_tv",830,3],
	["rhs_bmp1k_tv",830,3],
	["rhs_btr80a_vdv",850,3],
	["rhsusf_m1045_w",870,3],
	["rhs_bmp1d_tv",880,3],
	["rhs_bmp1p_tv",900,3],
	["rhs_zsu234_aa",900,3],
	["rhs_bmp2e_tv",1000,4],
	["rhs_bmp2_tv",1000,4],
	["rhs_bmp2k_tv",1000,4],
	["rhs_bmp2d_tv",1150,4],
	["rhs_bmd4_vdv",1200,4],
	["rhs_bmd4m_vdv",1200,4],
	["rhs_bmd4ma_vdv",1280,4],
	["RHS_M2A2_wd",1350,5],
	["RHS_M2A2",1350,5],
	["RHS_M2A3_wd",1350,5],
	["RHS_M2A3",1350,5],
	["RHS_M6_wd",1350,5],
	["RHS_M6",1350,5],
	["rhs_sprut_vdv",1012,5],
	["rhs_t72ba_tv",1650,6],
	["rhs_t80",1650,6],
	["rhs_t72bb_tv",1690,6],
	["rhs_t72bc_tv",1750,6],
	["rhs_t90_tv",1750,6],
	["RHS_M2A2_BUSKI_WD",1750,6],
	["RHS_M2A2_BUSKI",1750,6],
	["RHS_M2A3_BUSKI_wd",1750,6],
	["RHS_M2A3_BUSKI",1750,6],
	["rhs_t80b",1750,6],
	["rhs_t80bk",1750,6],
	["RHS_M2A3_BUSKIII_wd",1800,6],
	["RHS_M2A3_BUSKIII",1800,6],
	["rhs_t80a",1800,6],
	["rhs_t80bv",1800,6],
	["rhs_t80bvk",1800,6],	
	["rhs_t80u",1850,6],
	["rhs_t80u45m",1850,6],
	// появилась агава
	["rhs_t80um",2000,7],
	["rhs_t80uk",2000,7],
	//
	["rhs_t80ue1",2100,7],
	["rhs_t90a_tv",2100,7],
	["rhsusf_m1a1hc_wd",2100,7],
	["rhs_t72bd_tv",2200,7],
	["rhsusf_m1a1fep_wd",2200,7],
	["rhsusf_m1a1fep_wd",2200,7],
	["rhsusf_m1a1fep_od",2200,7],
	["rhs_t72be_tv",2300,8],
	["rhsusf_m1a1aimwd_usarmy",2300,8],
	["rhsusf_m1a1aimd_usarmy",2300,8],
	["rhs_t90saa_tv",2400,8],
	["rhsusf_m1a2sep1d_usarmy",2400,8],
	["rhsusf_m1a2sep1wd_usarmy",2400,8],
	["rhs_t90sab_tv",2500,9],
	["rhsusf_m1a1aim_tuski_d",2500,9],
	["rhsusf_m1a1aim_tuski_wd",2500,9],
	["rhs_t90am_tv",2600,9],
	["rhsusf_m1a2sep1tuskid_usarmy",2600,10],
	["rhsusf_m1a2sep1tuskiwd_usarmy",2600,10],
	["rhs_t90sm_tv",2650,10],
	["rhsusf_m1a2sep1tuskiiwd_usarmy",2700,10],
	["rhsusf_m1a2sep1tuskiid_usarmy",2700,10],
	["rhs_t14_tv",2800,10]
];
_air_vehicles = [
	["C_Plane_Civil_01_F",100,1],
	["C_Heli_Light_01_civil_F",200,1],
	["rhs_uh1h_hidf_unarmed",250,1],
	["RHS_Mi8t_civilian",270,1],
	["RHS_Mi8amt_civilian",270,1],
	["RHS_MELB_MH6M",300,1],
	["RHS_MELB_H6M",300,1],
	["RHS_Mi8mt_vvs",350,2],
	["RHS_Mi8mt_vvsc",350,2],
	["RHS_Mi8mt_Cargo_vvs",380,2],
	["RHS_Mi8mt_Cargo_vvsc",380,2],
	["RHS_Mi8AMT_vvs",400,2],
	["RHS_Mi8AMT_vvsc",400,2],
	["RHS_CH_47F_10",500,3],
	["RHS_CH_47F_light",500,3],
	["rhsusf_CH53E_USMC_d",500,3],
	["RHS_UH1Y_UNARMED_d",550,3],
	["RHS_UH60M2",580,4],
	["RHS_UH60M_MEV2",580,4],
	["RHS_C130J",600,4],
	["RHS_UH60M",630,4],
	["RHS_UH60M_ESSS2",650,4],
	["RHS_UH60M_ESSS",650,4],
	["rhs_ka60_grey",650,4],
	["rhs_ka60_c",650,4],
	["RHS_MELB_AH6M",650,4],
	["RHS_Mi8MTV3_vvs",680,5],
	["RHS_Mi8MTV3_vvsc",680,5],
	["RHS_UH1Y_FFAR_d",680,5],
	["RHS_UH1Y_d",700,5],
	["RHS_Mi8AMTSh_vvs",720,5],
	["RHS_Mi8AMTSh_vvsc",720,5],
	["RHS_Mi24P_vvs",800,6],
	["RHS_Mi24P_vvsc",800,6],
	["RHS_Mi24V_vvs",860,6],
	["RHS_Mi24V_vvsc",860,6],
	["rhs_mi28n_vvs",1400,7],
	["rhs_mi28n_vvsc",1400,7],
	["RHS_AH1Z",1012,7],
	["RHSGREF_A29B_HIDF",1012,7],
	["RHS_AH64D",1700,8],
	["RHS_AH64DGrey",1700,8],
	["RHS_Su25SM_vvs",1700,8],
	["RHS_Su25SM_vvsc",1700,8],
	["RHS_Ka52_vvsc",1800,9],
	["RHS_Ka52_vvs",1800,9],
	["RHS_A10",2000,9],
	["rhs_mig29s_vmf",2500,10],
	["rhs_mig29s_vvsc",2500,10],
	["rhs_mig29sm_vmf",2900,10],
	["rhs_mig29sm_vvsc",2900,10],
	["rhsusf_f22",3500,10],
	["RHS_T50_vvs_generic_ext",3500,10]
];

objectspawn = _spawnobject;

createDialog "dialogVehicleShop";
ctrlEnable [1008, false];

_ctrl_money = (findDisplay 3002) displayCtrl 1011;
_text_money = "YOU HAVE: " + str (player getVariable "money");
_ctrl_money ctrlSetText _text_money;
_ctrl_money ctrlSetTextColor [0.2,0.7,0,1];

_ctrl_lb = (findDisplay 3002) displayCtrl 1012;

lbAdd [1012, getText(configFile >> "CfgVehicles" >> "Land_dataTerminal_01_F" >> "displayName")];
_ctrl_lb lbSetTextRight [0, "MHQ"];
lbSetColorRight [1012, 0, [0.26, 0.44, 0.82, 1]];
lbSetData [1012, 0, str (["Land_dataTerminal_01_F",0,0])];

{
	if ((_x select 2) <= missionNamespace getVariable (if (_vehiclearray) then {"g_garage_level"} else {"a_garage_level"})) then {
		_left_text = (getText(configFile >> "CfgVehicles" >> _x select 0 >> "displayName"));
		_right_text = (if ((_x select 1) != 0) then {str (_x select 1)} else {"FREE"});
		lbAdd [1012, _left_text];
		_ctrl_lb lbSetTextRight [_forEachIndex + 1, _right_text];
		lbSetData [1012, _forEachIndex + 1, str _x];

		if ((_x select 1) != 0) then {
			if ((player getVariable "money") < (_x select 1)) then {
				lbSetColorRight [1012, _forEachIndex + 1, [0.92, 0.13, 0.13, 1]];
			}
			else
			{
				lbSetColorRight [1012, _forEachIndex + 1, [0.04, 0.67, 0, 1]];
			};
		}
		else
		{
			lbSetColorRight [1012, _forEachIndex + 1, [0.82, 0.78, 0.04, 1]];
		};
	};
} forEach (if (_vehiclearray) then {_land_vehicles} else {_air_vehicles});